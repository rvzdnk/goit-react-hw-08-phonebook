{"version":3,"file":"static/js/550.2578350d.chunk.js","mappings":"+SAEaA,E,QAAmBC,GAAAA,IAAH,q7C,SCyF7B,EAlFqB,WACnB,OAAiBC,EAAAA,EAAAA,MAAVC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAa,mCAAG,WAAMC,GAAN,wFACpBA,EAAEC,iBACIC,EAAOF,EAAEG,OAEIC,EAGXF,EAHJE,KAAQC,MACQC,EAEZJ,EAFJI,MAASD,MACUE,EACfL,EADJK,SAAYF,MAGVG,EAAc,CAAEJ,KAAAA,EAAME,MAAAA,EAAOC,SAAAA,GATf,SAUdb,EAAOc,GACVC,SACAC,MAAK,YAAgB,IAAbC,EAAY,EAAZA,MACPC,EAAAA,EAAAA,IAAY,QAASD,EACtB,IACAE,OAAM,WACLC,EAAAA,GAAAA,KAAW,8CACZ,IAjBiB,uBAmBAF,EAAAA,EAAAA,IAAY,SAnBZ,eAoBNG,KADRJ,EAnBc,4EAwBdhB,GAASqB,EAAAA,EAAAA,IAASL,IAxBJ,yBAyBdd,EAAS,aAzBK,QA0BpBK,EAAKe,QA1Be,4CAAH,sDA6BnB,OACE,+BACE,UAAC1B,EAAD,YACE,0CACA,kBAAM2B,SAAUnB,EAAhB,WACE,0BACE,qCAEA,kBACIoB,KAAK,OACLf,KAAK,OACLgB,MAAM,yBACNC,UAAQ,EACRC,YAAY,YAGlB,0BACE,uCAEA,kBACIH,KAAK,QACLf,KAAK,QACLmB,QAAQ,0CACRC,aAAa,QACbH,UAAQ,UAId,0BACE,yCAEE,kBACEF,KAAK,WACLf,KAAK,WACLmB,QAAQ,uCACRH,MAAM,yGACNI,aAAa,eACbH,UAAQ,UAId,mBAAQF,KAAK,SAAb,4BAKT,C","sources":["pages/Registration/Registration.styled.js","pages/Registration/Registration.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const RegistrationForm = styled.div`\n  padding: 15px 50px;\n  \n  & h2 {\n    margin-top: 0;\n    text-align: center;\n    font-size: 36px;\n    border: 4px solid violet;\n    text-transform: uppercase;\n    color: yellow;\n    padding: 10px;\n    letter-spacing: 0.05em;\n    -webkit-text-stroke-width: 2px;\n    -webkit-text-stroke-color: violet;\n  }\n  & form {\n    display: flex;\n    flex-direction: column;\n    border: none;\n    width: 100%;\n  }\n  & label {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    color: violet;\n    font-weight: 500;\n  }\n  & input {\n    font-size: 14px;\n    margin-top: 5px;\n    padding: 5px;\n    border: 2px solid violet;\n    outline: none;\n    line-height: 1.25;\n    background-color: yellow;\n    &:hover {\n      box-shadow: 0px 0px 4px 0px rgba(250, 107, 246, 1);\n      transition: box-shadow 400ms;\n    }\n    &:focus {\n      box-shadow: 0px 0px 6px 0px rgba(250, 107, 246, 1)\n      transition: box-shadow 600ms;\n    }\n  }\n  & button {\n    max-width: 100px;\n    margin: 0 auto;\n    padding: 5px 10px;\n    border: 2px solid yellow;\n    text-align: center;\n    text-transform: uppercase;\n    color: yellow;\n    background: violet;\n    font-size: 16px;\n\n    &:hover {\n      color: violet;\n      border-color: violet;\n      background-color: yellow;\n      transition: color 400ms, border-color 400ms, background-color 400ms;\n    }\n  }\n`;","import React from 'react';\nimport { useSignupMutation } from 'services/phonebookApi';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Cookies from 'js-cookie';\nimport { addToken } from 'redux/Actions';\nimport { RegistrationForm } from './Registration.styled';\n\nconst Registration = () => {\n  const [signup] = useSignupMutation();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const form = e.target;\n    const {\n        name: { value: name },\n        email: { value: email },\n        password: { value: password },\n        } = form;\n\n    const credentials = { name, email, password };\n    await signup(credentials)\n      .unwrap()\n      .then(({ token }) => {\n        Cookies.set('token', token);\n      })\n      .catch(() => {\n        toast.warn('User with this email address already exists');\n      });\n\n    const token = await Cookies.get('token');\n    if (token === undefined) {\n      return;\n    }\n\n    await dispatch(addToken(token));\n    await navigate('/contacts');\n    form.reset();\n  };\n\n  return (\n    <>\n      <RegistrationForm>\n        <h2>Registration</h2>\n        <form onSubmit={submitHandler}>\n          <div>\n            <label>\n              Name\n            <input\n                type=\"text\"\n                name=\"name\"\n                title=\"Please enter your name\"\n                required\n                placeholder=\" \" />\n            </label>\n          </div>\n          <div>\n            <label>\n              E-mail\n            <input\n                type=\"email\"\n                name=\"email\"\n                pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n                autoComplete=\"email\"\n                required\n              />\n            </label>\n          </div>\n          <div>\n            <label>\n              Password\n              <input\n                type=\"password\"\n                name=\"password\"\n                pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\n                title=\"Must contain at least one uppercase and lowercase letter, one number and at least 8 or more characters\"\n                autoComplete=\"new-password\"\n                required\n              />\n            </label>\n          </div>\n          <button type=\"submit\">Sign up</button>\n        </form>\n      </RegistrationForm>\n    </>\n  );\n};\n\nexport default Registration;"],"names":["RegistrationForm","styled","useSignupMutation","signup","dispatch","useDispatch","navigate","useNavigate","submitHandler","e","preventDefault","form","target","name","value","email","password","credentials","unwrap","then","token","Cookies","catch","toast","undefined","addToken","reset","onSubmit","type","title","required","placeholder","pattern","autoComplete"],"sourceRoot":""}