{"version":3,"file":"static/js/639.ec8c84c9.chunk.js","mappings":"2SAEaA,E,QAAYC,GAAAA,IAAH,s7C,mBCkEtB,EA3Dc,WACZ,OAAgBC,EAAAA,EAAAA,MAATC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAa,mCAAG,WAAMC,GAAN,sFACpBA,EAAEC,iBACIC,EAAOF,EAAEG,OACTC,EAAQF,EAAKE,MAAMC,MACnBC,EAAWJ,EAAKI,SAASD,MAEzBE,EAAc,CAAEH,MAAAA,EAAOE,SAAAA,GANT,SAOdZ,EAAMa,GACTC,SACAC,MAAK,YAAgB,IAAbC,EAAY,EAAZA,MACPC,EAAAA,EAAAA,IAAY,QAASD,EACtB,IACAE,OAAM,WACHC,EAAAA,GAAAA,KAAW,8DACd,IAdiB,uBAgBAF,EAAAA,EAAAA,IAAY,SAhBZ,eAiBNG,KADRJ,EAhBc,4EAqBdf,GAASoB,EAAAA,EAAAA,IAASL,IArBJ,yBAsBdb,EAAS,aAtBK,QAuBpBK,EAAKc,QAvBe,4CAAH,sDAyBf,OACF,+BACE,UAACzB,EAAD,YACE,mCACA,kBAAM0B,SAAUlB,EAAhB,WACE,0BACE,uCAEE,kBAAOmB,KAAK,QAAQC,KAAK,QAAQC,aAAa,QAAQC,UAAQ,UAGlE,0BACE,yCAEE,kBACEH,KAAK,WACLC,KAAK,WACLC,aAAa,mBACbC,UAAQ,UAId,mBAAQH,KAAK,SAAb,2BAKT,C","sources":["pages/Login/Login.styled.js","pages/Login/Login.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const LoginForm = styled.div`\n  padding: 15px 50px;\n  \n  & h2 {\n    margin-top: 0;\n    text-align: center;\n    font-size: 36px;\n    border: 4px solid violet;\n    text-transform: uppercase;\n    color: yellow;\n    padding: 10px;\n    letter-spacing: 0.05em;\n    -webkit-text-stroke-width: 2px;\n    -webkit-text-stroke-color: violet;\n  }\n  & form {\n    display: flex;\n    flex-direction: column;\n    border: none;\n    width: 100%;\n  }\n  & label {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    color: violet;\n    font-weight: 500;;\n  }\n  & input {\n    font-size: 14px;\n    margin-top: 5px;\n    padding: 5px;\n    border: 2px solid violet;\n    outline: none;\n    line-height: 1.25;\n    background-color: yellow;\n    &:hover {\n      box-shadow: 0px 0px 4px 0px rgba(250, 107, 246, 1);\n      transition: box-shadow 400ms;\n    }\n    &:focus {\n      box-shadow: 0px 0px 6px 0px rgba(250, 107, 246, 1)\n      transition: box-shadow 600ms;\n    }\n  }\n  & button {\n    max-width: 100px;\n    margin: 0 auto;\n    padding: 5px 10px;\n    border: 2px solid yellow;\n    text-align: center;\n    text-transform: uppercase;\n    color: yellow;\n    background: violet;\n    font-size: 16px;\n\n    &:hover {\n      color: violet;\n      border-color: violet;\n      background-color: yellow;\n      transition: color 400ms, border-color 400ms, background-color 400ms;\n    }\n  }\n`;","import Cookies from 'js-cookie';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { addToken } from 'redux/Actions';\nimport { useLoginMutation } from 'services/phonebookApi';\nimport { LoginForm } from './Login.styled';\nimport { toast } from 'react-toastify';\n\nconst Login = () => {\n  const [login] = useLoginMutation();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const form = e.target;\n    const email = form.email.value;\n    const password = form.password.value;\n\n    const credentials = { email, password };\n    await login(credentials)\n      .unwrap()\n      .then(({ token }) => {\n        Cookies.set('token', token)\n      })\n      .catch(() => {\n          toast.warn('The given data is incorrect. Check your email and password.');\n      });\n\n    const token = await Cookies.get('token');\n    if (token === undefined) {\n      return;\n    }\n\n    await dispatch(addToken(token));\n    await navigate('/contacts');\n    form.reset();\n    };\n      return (\n    <>\n      <LoginForm>\n        <h2>Login</h2>\n        <form onSubmit={submitHandler}>\n          <div>\n            <label>\n              E-mail\n              <input type=\"email\" name=\"email\" autoComplete=\"email\" required />\n            </label>\n          </div>\n          <div>\n            <label>\n              Password\n              <input\n                type=\"password\"\n                name=\"password\"\n                autoComplete=\"current-password\"\n                required\n              />\n            </label>\n          </div>\n          <button type=\"submit\">Log in</button>\n        </form>\n      </LoginForm>\n    </>\n  );\n};\n\nexport default Login;"],"names":["LoginForm","styled","useLoginMutation","login","dispatch","useDispatch","navigate","useNavigate","submitHandler","e","preventDefault","form","target","email","value","password","credentials","unwrap","then","token","Cookies","catch","toast","undefined","addToken","reset","onSubmit","type","name","autoComplete","required"],"sourceRoot":""}